<% if @doctor.new_record? %>
  <% url = doctors_path %>
  <% method = 'POST' %>
<% else %>
  <% url = doctor_path(@doctor) %>
  <% method = 'PATCH' %>
<% end %>

<%= simple_form_for @doctor, as: :doctor, url: url, html: { method: method } do |f| %>
  <!-- <div class="weui-cells__title">申请成为医生</div>
  <p class="weui-cells_tips">顶部说明文字</p> -->

  <div class="weui-cells__title">从业信息</div>
  <div class="weui-cells weui-cells_form">
    <div class="weui-cell">
      <div class="weui-cell__hd">
        <label class="weui-label" for="">身份证号码</label>
      </div>
      <div class="weui-cell__bd weui-cell_primary">
        <!-- <input class="weui-input" name="doctor[id_card_num]" type="text" value=""> -->
        <%= f.text_field :id_card_num, class: 'weui-input', data: { "parsley-required": "true", "parsley-pattern": /[d{18}|d{17}x]/ } %>
      </div>
    </div>

    <div class="weui-cell">
        <div class="weui-cell__bd weui-cell_primary">
            <div class="weui_uploader weui_uploader1">
                <div class="weui_uploader_hd weui-cell">
                    <div class="weui-cell__bd weui-cell_primary">身份证正面照片</div>
                    <!-- <div class="weui-cell__ft">
                      <% if @doctor.id_card_front.present? %>
                        1/1
                      <% else %>
                        0/1
                      <% end %>
                    </div> -->
                </div>
                <div class="weui_uploader_bd">
                    <ul class="weui_uploader_files">
                      <li class="weui_uploader_file">
                        <!-- <% if @doctor.id_card_front.present? %>
                          <%= image_tag @doctor.id_card_front%>
                        <% else %>
                          <img data-src="holder.js/79x79"/>
                        <% end %> -->
                        <%= show_holder_or_image @doctor, :id_card_front, "79x79" %>
                        <%= f.hidden_field :id_card_front, class: 'file_field' %>
                      </li>
                    </ul>
                    <div class="weui_uploader_input_wrp" id='picker1'>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="weui-cell">
        <div class="weui-cell__bd weui-cell_primary">
            <div class="weui_uploader weui_uploader2">
                <div class="weui_uploader_hd weui-cell">
                    <div class="weui-cell__bd weui-cell_primary">身份证反面照片</div>
                    <!-- <div class="weui-cell__ft">
                      <% if @doctor.id_card_back.present? %>
                        1/1
                      <% else %>
                        0/1
                      <% end %>
                    </div> -->
                </div>
                <div class="weui_uploader_bd">
                    <ul class="weui_uploader_files">
                      <li class="weui_uploader_file" style="background-image:url()">
                        <%= show_holder_or_image @doctor, :id_card_back, "79x79" %>
                        <%= f.hidden_field :id_card_back, class: 'file_field' %>
                      </li>
                    </ul>
                    <div class="weui_uploader_input_wrp" id='picker2'>
                        <!-- <input class="weui_uploader_input" type="file" accept="image/jpg,image/jpeg,image/png,image/gif" multiple=""> -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="weui-cell">
        <div class="weui-cell__bd weui-cell_primary">
            <div class="weui_uploader weui_uploader3">
                <div class="weui_uploader_hd weui-cell">
                    <div class="weui-cell__bd weui-cell_primary">医生执照正页</div>
                    <!-- <div class="weui-cell__ft">
                      <% if @doctor.license_front.present? %>
                        1/1
                      <% else %>
                        0/1
                      <% end %>
                    </div> -->
                </div>
                <div class="weui_uploader_bd">
                    <ul class="weui_uploader_files">
                      <li class="weui_uploader_file">
                        <%= show_holder_or_image @doctor, :license_front, "79x79" %>
                        <%= f.hidden_field :license_front, class: 'file_field' %>
                      </li>
                    </ul>
                    <div class="weui_uploader_input_wrp" id='picker3'>
                        <!-- <input class="weui_uploader_input" type="file" accept="image/jpg,image/jpeg,image/png,image/gif" multiple=""> -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="weui-cell">
        <div class="weui-cell__bd weui-cell_primary">
            <div class="weui_uploader weui_uploader4">
                <div class="weui_uploader_hd weui-cell">
                    <div class="weui-cell__bd weui-cell_primary">医生执照副页</div>
                    <!-- <div class="weui-cell__ft">
                      <% if @doctor.license_back.present? %>
                        1/1
                      <% else %>
                        0/1
                      <% end %>
                    </div> -->
                </div>
                <div class="weui_uploader_bd">
                    <ul class="weui_uploader_files">
                      <li class="weui_uploader_file">
                        <%= show_holder_or_image @doctor, :license_back, "79x79" %>
                        <%= f.hidden_field :license_back, class: 'file_field' %>
                      </li>
                    </ul>
                    <div class="weui_uploader_input_wrp" id='picker4'>
                        <!-- <input class="weui_uploader_input" type="file" accept="image/jpg,image/jpeg,image/png,image/gif" multiple=""> -->
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="weui-cell weui-cell_select weui-cell_select-after">
        <div class="weui-cell__hd">
            <label for="" class="weui-label">职称</label>
        </div>
        <div class="weui-cell__bd weui-cell_primary">
            <select class="weui-select" name="select2">
              <%= options_for_select Doctor::JOB_TITLES, "主任医师" %>
            </select>
        </div>
    </div>

    <div class="weui-cell">
      <div class="weui-cell__hd">
        <label class="weui-label" for="">医院名称</label>
      </div>
      <div class="weui-cell__hd">
        <!-- <input class="weui-input" name="doctor[hospital]" type="text" value=""> -->
        <%= f.text_field :hospital, class: 'weui-input', data: { "parsley-required": "true" } %>
      </div>
    </div>

    <div class="weui-cell">
      <div class="weui-cell__hd">
        <label class="weui-label" for="">医院地址</label>
      </div>
      <div class="weui-cell__hd">
        <!-- <input class="weui-input" name="doctor[location]" type="text" value=""> -->
        <%= f.text_field :location, class: 'weui-input', data: { "parsley-required": "true" } %>
      </div>
    </div>

  </div>

  <!-- <div class="weui-cells__title">备注</div>
  <div class="weui-cells weui-cells_form">
    <div class="weui-cell">
      <div class="weui-cell__bd weui-cell_primary">
        <textarea class="weui-textarea" name="doctor[remark]" placeholder="你还有什么补充的吗？"></textarea>
      </div>
    </div>
  </div>

  <p class="weui-cells_tips">底部说明文字底部说明文字</p> -->

  <div class="weui-btn-area">
    <!-- <a class="weui-btn weui-btn__primary" href="javascript:">确定</a> -->
    <button class="weui-btn weui-btn__primary">确定</button>
  </div>

<% end %>
